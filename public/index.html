<!DOCTYPE html>
<html lang="es" dir="ltr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <script>
        (function() {
            const savedSkin = localStorage.getItem('nclex_skin_v1') || 'neural-vision';
            document.documentElement.classList.add('skin-' + savedSkin);
            const darkSkins = ['dark-obsidian', 'onyx-premium', 'cyber-neural', 'neon-hollow', 'horizon-dashboard', 'hyper-driver'];
            if (darkSkins.includes(savedSkin)) {
                document.documentElement.classList.add('dark');
            }
        })();
    </script>

    <title>NCLEX Master | Study Suite</title>
    
    <meta name="description" content="Comprehensive NCLEX-RN preparation with NGN Simulator.">
    <meta name="theme-color" content="#F5F5F7">
    <link rel="manifest" href="/manifest.json">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <link rel="apple-touch-icon" href="https://i.ibb.co/g1P2nPKq/apple-touch-icon.png">
    <link rel="icon" href="https://i.ibb.co/0JvF2wR/favicon.png">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: {
              sans: ['-apple-system', 'BlinkMacSystemFont', 'SF Pro Display', 'Helvetica Neue', 'Arial', 'sans-serif']
            }
          }
        }
      };
    </script>

    <style>
        :root {
            --brand-bg: #f5f5f7;
            --brand-card: rgba(255, 255, 255, 0.82);
            --brand-border: rgba(0, 0, 0, 0.06);
            --brand-text: #1d1d1f;
            --brand-muted: rgba(29, 29, 31, 0.65);
            --brand-accent: #0071e3;
            --brand-accent-hover: #0077ed;
            --brand-success: #34c759;
            --brand-warning: #ff9f0a;
            --brand-danger: #ff3b30;
            --brand-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);
            --brand-shadow-soft: 0 10px 30px rgba(0, 0, 0, 0.08);
            --brand-gradient: radial-gradient(circle at 10% 10%, rgba(0, 113, 227, 0.15), transparent 45%),
                              radial-gradient(circle at 90% 20%, rgba(52, 199, 89, 0.12), transparent 40%),
                              radial-gradient(circle at 40% 90%, rgba(255, 159, 10, 0.12), transparent 45%);
        }

        .dark {
            --brand-bg: #0b0b10;
            --brand-card: rgba(17, 17, 24, 0.82);
            --brand-border: rgba(255, 255, 255, 0.08);
            --brand-text: rgba(255, 255, 255, 0.9);
            --brand-muted: rgba(255, 255, 255, 0.65);
            --brand-accent: #0a84ff;
            --brand-accent-hover: #3c9dff;
            --brand-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
            --brand-shadow-soft: 0 10px 30px rgba(0, 0, 0, 0.3);
            --brand-gradient: radial-gradient(circle at 10% 10%, rgba(10, 132, 255, 0.2), transparent 45%),
                              radial-gradient(circle at 90% 20%, rgba(52, 199, 89, 0.16), transparent 40%),
                              radial-gradient(circle at 40% 90%, rgba(255, 159, 10, 0.18), transparent 45%);
        }

        body {
            background: var(--brand-bg);
            color: var(--brand-text);
        }

        .glass-panel {
            background: var(--brand-card);
            border: 1px solid var(--brand-border);
            box-shadow: var(--brand-shadow-soft);
            backdrop-filter: blur(18px);
        }

        .btn-primary {
            background: var(--brand-accent);
            color: white;
            border-radius: 999px;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            transition: all 0.2s ease;
        }

        .btn-primary:hover {
            background: var(--brand-accent-hover);
            transform: translateY(-1px);
        }

        .btn-secondary {
            border: 1px solid var(--brand-border);
            border-radius: 999px;
            padding: 0.7rem 1.4rem;
            font-weight: 600;
            transition: all 0.2s ease;
        }

        .btn-secondary:hover {
            background: rgba(0, 0, 0, 0.05);
        }

        .dark .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.07);
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(6px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Skin overrides injected by skins.js */
    </style>
</head>

<body class="min-h-screen font-sans overflow-x-hidden">
    <div class="fixed inset-0 pointer-events-none opacity-70" style="background: var(--brand-gradient);"></div>

    <main class="relative min-h-screen flex flex-col items-center justify-between px-4 py-6">
        <header class="w-full max-w-6xl flex flex-col gap-6 fade-in">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                <div>
                    <h1 class="text-3xl md:text-4xl font-semibold tracking-tight">NCLEX Master</h1>
                    <p class="text-base md:text-lg" style="color: var(--brand-muted);">Study Suite & NGN Simulator</p>
                </div>

                <div class="flex flex-col sm:flex-row gap-3 sm:items-center">
                    <button id="skinSelectorBtn" class="btn-secondary">
                        üé® Skins
                    </button>
                    <button id="premiumLibraryBtn" class="btn-secondary">
                        üìö Library
                    </button>
                    <button id="openSimulatorBtn" class="btn-primary">
                        Start NGN
                    </button>
                </div>
            </div>

            <section class="glass-panel rounded-3xl p-5 md:p-8 flex flex-col gap-6">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                    <div class="flex-1">
                        <h2 class="text-xl md:text-2xl font-semibold mb-2">Quick Access</h2>
                        <p style="color: var(--brand-muted);">Jump into critical topics, calculators, and dashboards.</p>
                    </div>

                    <div class="flex flex-col sm:flex-row gap-3">
                        <button id="openSearchBtn" class="btn-secondary">üîé Search</button>
                        <button id="openDashboardBtn" class="btn-secondary">üìä Dashboard</button>
                        <button id="openNotepadBtn" class="btn-secondary">üìù Notepad</button>
                    </div>
                </div>

                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    <button class="glass-panel rounded-2xl p-4 text-left transition hover:-translate-y-1 hover:shadow-lg" data-topic="fundamentals">
                        <h3 class="text-lg font-semibold mb-1">Fundamentals</h3>
                        <p style="color: var(--brand-muted);">Safety, infection control, delegation, prioritization.</p>
                    </button>
                    <button class="glass-panel rounded-2xl p-4 text-left transition hover:-translate-y-1 hover:shadow-lg" data-topic="pharmacology">
                        <h3 class="text-lg font-semibold mb-1">Pharmacology</h3>
                        <p style="color: var(--brand-muted);">High-risk meds, antidotes, calculations.</p>
                    </button>
                    <button class="glass-panel rounded-2xl p-4 text-left transition hover:-translate-y-1 hover:shadow-lg" data-topic="medsurg">
                        <h3 class="text-lg font-semibold mb-1">Med-Surg</h3>
                        <p style="color: var(--brand-muted);">Adult care, monitoring, interventions.</p>
                    </button>
                    <button class="glass-panel rounded-2xl p-4 text-left transition hover:-translate-y-1 hover:shadow-lg" data-topic="pediatrics">
                        <h3 class="text-lg font-semibold mb-1">Pediatrics</h3>
                        <p style="color: var(--brand-muted);">Growth, vaccines, congenital conditions.</p>
                    </button>
                    <button class="glass-panel rounded-2xl p-4 text-left transition hover:-translate-y-1 hover:shadow-lg" data-topic="maternity">
                        <h3 class="text-lg font-semibold mb-1">Maternity</h3>
                        <p style="color: var(--brand-muted);">Pregnancy, labor, postpartum complications.</p>
                    </button>
                    <button class="glass-panel rounded-2xl p-4 text-left transition hover:-translate-y-1 hover:shadow-lg" data-topic="mental">
                        <h3 class="text-lg font-semibold mb-1">Mental Health</h3>
                        <p style="color: var(--brand-muted);">Therapeutic communication, crisis, meds.</p>
                    </button>
                </div>
            </section>
        </header>

        <section id="appModalRoot" class="fixed inset-0 z-50 hidden items-center justify-center">
            <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
            <div id="appModalPanel" class="relative w-[min(94vw,920px)] max-h-[88vh] overflow-hidden glass-panel rounded-3xl">
                <div class="flex items-center justify-between px-5 py-4 border-b border-[var(--brand-border)]">
                    <h3 id="modalTitle" class="text-lg md:text-xl font-semibold">Modal</h3>
                    <button id="closeModalBtn" class="btn-secondary">Close</button>
                </div>
                <div id="modalContent" class="p-5 md:p-6 overflow-y-auto max-h-[calc(88vh-88px)]"></div>
            </div>
        </section>

        <footer class="w-full max-w-6xl text-sm py-4 text-center" style="color: var(--brand-muted);">
            created by Reynier Diaz Gerones
        </footer>
    </main>

    <script src="/js/utils.js?v=4.0"></script>
    <script src="/js/logic.js?v=4.0"></script>
    <script src="/js/premium_books_library.js?v=4.0"></script>
    <script src="/js/skins.js?v=4.0"></script>
    <script src="/js/31_search_service.js?v=4.0"></script>
    <script src="/js/simulator.js?v=4.0"></script>
    <script src="/js/ngn_engine.js?v=4.0"></script>

    <script defer src="/js/01_newborn.js?v=3.0"></script>
    <script defer src="/js/02_maternity.js?v=3.0"></script>
    <script defer src="/js/03_pediatrics_growth_development.js?v=3.0"></script>
    <script defer src="/js/04_med_surg_adult.js?v=3.0"></script>
    <script defer src="/js/05_cardiovascular.js?v=3.0"></script>
    <script defer src="/js/06_respiratory.js?v=3.0"></script>
    <script defer src="/js/07_pharmacology.js?v=3.0"></script>
    <script defer src="/js/08_endocrine.js?v=3.0"></script>
    <script defer src="/js/09_mental_health.js?v=3.0"></script>
    <script defer src="/js/10_neurological.js?v=3.0"></script>
    <script defer src="/js/11_musculoskeletal.js?v=3.0"></script>
    <script defer src="/js/12_fundamentals.js?v=3.0"></script>
    <script defer src="/js/13_hematology_oncology.js?v=3.0"></script>
    <script defer src="/js/14_gastrointestinal.js?v=3.0"></script>
    <script defer src="/js/15_integumentary_burns.js?v=3.0"></script>
    <script defer src="/js/16_labs_values.js?v=3.0"></script>
    <script defer src="/js/17_bnotepad.js?v=4.0"></script>
    <script defer src="/js/18_leadership_management.js?v=3.0"></script>
    <script defer src="/js/19_prioritization_delegation.js?v=3.0"></script>
    <script defer src="/js/20_renal_genitourinary.js?v=3.0"></script>
    <script defer src="/js/21_infectious_immune.js?v=3.0"></script>
    <script defer src="/js/22_emergency_critical.js?v=3.0"></script>
    <script defer src="/js/23_fluids_electrolytes.js?v=3.0"></script>
    <script defer src="/js/24_clinical_nutrition.js?v=3.0"></script>
    <script defer src="/js/25_perioperative_care.js?v=3.0"></script>
    <script defer src="/js/26_high_risk_pharm.js?v=3.0"></script>
    <script defer src="/js/27_critical_thinking_ngn.js?v=3.0"></script>
    <script defer src="/js/28_ethics_legal.js?v=3.0"></script>
    <script defer src="/js/29_negative_rationales.js?v=3.0"></script>
    <script defer src="/js/30_common_student_errors.js?v=3.0"></script>

    <script type="module" src="/js/auth.js?v=4.0"></script>

    <script>
        (function() {
            'use strict';
            window.NCLEX_VERSION = '4.0.0';
            
            window.toggleThemeSmart = function() {
                if (!window.NCLEX_SKINS) return;
                const current = window.NCLEX_SKINS.current();
                const next = (['dark-obsidian', 'onyx-premium'].includes(current)) ? 'neural-vision' : 'dark-obsidian';
                window.NCLEX_SKINS.apply(next);
            };

            window.hideLoader = function() {
                const loader = document.getElementById('loading');
                if (loader) {
                    loader.style.opacity = '0';
                    setTimeout(() => { loader.style.display = 'none'; }, 500);
                }
            };

            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    navigator.serviceWorker.register('/sw.js').catch(() => {});
                });
            }

            document.addEventListener('DOMContentLoaded', () => {
                window.hideLoader();
            });
        })();
    </script>
</body>
</html>
